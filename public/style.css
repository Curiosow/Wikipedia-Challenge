/* --- Base --- */
body { background-color: #2c3e50; color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; height: 100vh; overflow: hidden; }
.hidden { display: none !important; }

/* --- Layout --- */
#game-screen { display: grid; grid-template-columns: 320px 1fr; height: 100vh; width: 100vw; }
.sidebar { background: #1a252f; padding: 20px; border-right: 1px solid #34495e; display: flex; flex-direction: column; overflow-y: auto; gap: 15px; }
.main-content { display: flex; flex-direction: column; height: 100%; background: #ecf0f1; position: relative; }

/* --- Components --- */
.settings-box, .settings-info { background: #34495e; padding: 15px; border-radius: 8px; font-size: 0.9em; }
.settings-box h4, .settings-info h4 { margin-top: 0; border-bottom: 1px solid #7f8c8d; padding-bottom: 5px; }
.settings-box label { display: block; margin-top: 10px; color: #bdc3c7; }
.settings-box input, .settings-box select { width: 100%; padding: 5px; background: #2c3e50; border: 1px solid #7f8c8d; color: white; border-radius: 4px; margin-top: 2px; }
.timer-box { font-size: 2em; font-weight: bold; text-align: center; background: #2c3e50; padding: 10px; border-radius: 8px; border: 2px solid #3498db; margin-top: 10px; font-family: monospace; }
.player-card { background: #34495e; padding: 10px; border-radius: 5px; margin-bottom: 5px; border-left: 4px solid transparent; }
.player-card.my-card { border-left-color: #2ecc71; background: #2c3e50; }
.player-card.finished { opacity: 0.7; }
.p-header { display: flex; justify-content: space-between; }
.p-stats { display: flex; justify-content: space-between; font-size: 0.85em; color: #bdc3c7; margin-top: 5px; }

/* --- Buttons --- */
button { cursor: pointer; border: none; font-weight: bold; border-radius: 4px; transition: 0.2s; }
button:hover { filter: brightness(1.1); transform: scale(1.02); }
.btn-primary { background: #27ae60; color: white; padding: 10px 20px; }
.btn-secondary { background: #2980b9; color: white; padding: 10px 20px; }
.btn-start { width: 100%; background: #e67e22; color: white; padding: 15px; font-size: 1.1em; }
.btn-danger { width: 100%; background: #c0392b; color: white; padding: 10px; margin-top: 10px; }

/* --- Game Header & Iframe --- */
#game-header { background: white; color: #2c3e50; padding: 10px 20px; border-bottom: 2px solid #bdc3c7; z-index: 10; }
.objective { display: flex; justify-content: center; align-items: center; gap: 20px; font-size: 1.1em; }
.target-box { background: #ecf0f1; padding: 5px 15px; border-radius: 20px; border: 1px solid #bdc3c7; }
.arrow { color: #7f8c8d; font-weight: bold; }
#iframe-container { flex-grow: 1; position: relative; }
iframe { width: 100%; height: 100%; border: none; display: none; background: white; }
.placeholder-text { color: #7f8c8d; text-align: center; position: absolute; top: 30%; width: 100%; }

/* --- Login --- */
.screen { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
.card { background: #34495e; padding: 40px; border-radius: 10px; text-align: center; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
.card input { padding: 10px; border-radius: 5px; border: none; width: 200px; margin-right: 5px; }
.logout-link { display: block; margin-top: 20px; color: #95a5a6; font-size: 0.8em; text-decoration: none; }

/* --- Notifications --- */
#notification-area { position: fixed; top: 20px; right: 20px; z-index: 1000; display: flex; flex-direction: column; gap: 10px; }
.notification { background: #34495e; color: white; padding: 15px 20px; border-radius: 5px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); min-width: 250px; animation: slideIn 0.3s ease-out; border-left: 5px solid #3498db; }
.notification.notif-success { border-left-color: #2ecc71; }
.notification.notif-error { border-left-color: #e74c3c; }
@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

/* --- Countdown --- */
#countdown-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(44, 62, 80, 0.9); z-index: 200; display: flex; align-items: center; justify-content: center; }
#countdown-number { font-size: 10em; font-weight: bold; color: #f1c40f; animation: zoomCountdown 1s infinite; }
@keyframes zoomCountdown { 0% { transform: scale(0.5); opacity: 0; } 50% { transform: scale(1.2); opacity: 1; } 100% { transform: scale(1); opacity: 0; } }

/* --- Victory/Final Screens --- */
#victory-screen, #final-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 300; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }

.victory-content, .final-content { background: #2c3e50; padding: 40px; border-radius: 15px; text-align: center; border: 4px solid #f1c40f; box-shadow: 0 0 30px rgba(241, 196, 15, 0.3); animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
.victory-content.draw { border-color: #95a5a6; box-shadow: 0 0 30px rgba(149, 165, 166, 0.3); }

/* Leaderboard */
.final-content { min-width: 400px; border-color: #e67e22; }
.final-content h1 { margin-top: 0; color: #e67e22; }
#podium-container { margin: 20px 0; text-align: left; }
.leaderboard-row { display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #34495e; background: #34495e; margin-bottom: 5px; border-radius: 5px; }
.leaderboard-row .rank { font-weight: bold; font-size: 1.5em; width: 40px; text-align: center; color: #bdc3c7; }
.leaderboard-row .name { flex-grow: 1; font-size: 1.2em; }
.leaderboard-row .score { font-weight: bold; color: #f1c40f; }
@keyframes popIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
#victory-title { margin: 0; font-size: 2.5em; text-transform: uppercase; }
#victory-avatar { font-size: 5em; margin: 20px 0; }
#victory-message { font-size: 1.2em; color: #ecf0f1; margin-bottom: 30px; }